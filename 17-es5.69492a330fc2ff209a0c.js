!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{uhKA:function(e,n,o){"use strict";o.r(n),o.d(n,"RoutingModule",function(){return at});var r,c,a=o("ofXK"),s=o("3Pt+"),u=o("smnK"),d=o("tk/3"),m=o("tyNb"),l=o("fXoL"),f=o("wZkO"),p=((r=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=l.Eb({type:r,selectors:[["app-dashboard"]],decls:14,vars:4,consts:[[1,"container","container-todo"],[1,"lead"],["mat-tab-nav-bar",""],["mat-tab-link","","routerLinkActive","",3,"active","routerLink"],["todoList","routerLinkActive"],["todoForm","routerLinkActive"]],template:function(t,e){if(1&t&&(l.Pb(0,"div",0),l.Pb(1,"h1"),l.Ac(2,"Hello Dashboard!"),l.Ob(),l.Pb(3,"p",1),l.Ac(4,"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."),l.Ob(),l.Pb(5,"nav",2),l.Pb(6,"a",3,4),l.Ac(8,"Todos List"),l.Ob(),l.Pb(9,"a",3,5),l.Ac(11,"Todo Form"),l.Ob(),l.Ob(),l.Pb(12,"div"),l.Lb(13,"router-outlet"),l.Ob(),l.Ob()),2&t){var i=l.oc(7),n=l.oc(10);l.zb(6),l.hc("active",i.isActive)("routerLink","./todo-list"),l.zb(3),l.hc("active",n.isActive)("routerLink","./todo-form")}},directives:[f.d,m.e,f.c,m.d,m.g],styles:[""]}),r),b=function(){function e(i){t(this,e),this.hideDesc=!0,null!=i&&(i.hasOwnProperty("name")&&(this.name=i.name),i.hasOwnProperty("id")&&(this.id=i.id),i.hasOwnProperty("description")&&(this.description=i.description),i.hasOwnProperty("type")&&(this.type=i.type),i.hasOwnProperty("hideDesc")&&(this.hideDesc=i.hideDesc))}return i(e,[{key:"toggleDesc",value:function(){this.hideDesc=!this.hideDesc}}]),e}(),h=function(t){return t.DEV="Developement",t.INTE="Integration",t.DESIGN="Design",t.CONCEPTION="Conception",t.MANAGEMENT="Gestion",t}({}),k=o("Wp6s"),v=o("bTqV"),y=((c=function(){function e(i,n){t(this,e),this.router=i,this.activatedRoute=n}return i(e,[{key:"ngOnInit",value:function(){}},{key:"details",value:function(){this.router.navigate(["../todo-details",this.ticket.id],{relativeTo:this.activatedRoute}).then(function(t){return console.log("navigation success")})}}]),e}()).\u0275fac=function(t){return new(t||c)(l.Kb(m.c),l.Kb(m.a))},c.\u0275cmp=l.Eb({type:c,selectors:[["app-ticket"]],inputs:{ticket:"ticket"},decls:16,vars:9,consts:[["color","primary"],[3,"hidden"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,e){1&t&&(l.Pb(0,"mat-card"),l.Pb(1,"mat-card-header"),l.Pb(2,"mat-card-title"),l.Ac(3),l.bc(4,"titlecase"),l.Ob(),l.Pb(5,"mat-card-subtitle",0),l.Ac(6),l.bc(7,"titlecase"),l.Ob(),l.Ob(),l.Pb(8,"mat-card-content"),l.Pb(9,"p",1),l.Ac(10),l.Ob(),l.Ob(),l.Pb(11,"mat-card-actions"),l.Pb(12,"button",2),l.Wb("click",function(){return e.ticket.toggleDesc()}),l.Ac(13),l.Ob(),l.Pb(14,"button",2),l.Wb("click",function(){return e.details()}),l.Ac(15,"Details "),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.zb(3),l.Bc(l.cc(4,5,e.ticket.name)),l.zb(3),l.Bc(l.cc(7,7,e.ticket.type)),l.zb(3),l.hc("hidden",e.ticket.hideDesc),l.zb(1),l.Cc(" ",e.ticket.description," "),l.zb(3),l.Cc("",e.ticket.hideDesc?"Afficher":"Cacher"," description "))},directives:[k.a,k.d,k.g,k.f,k.c,k.b,v.a],pipes:[a.A],styles:[""]}),c);function g(t,e){1&t&&(l.Pb(0,"div",4),l.Ac(1," aucune Ticket n'existe, pouvez-vous l'ajouter !"),l.Ob())}function O(t,e){1&t&&l.yc(0,g,2,0,"ng-template")}function P(t,e){if(1&t&&(l.Pb(0,"div",6),l.Lb(1,"app-ticket",7),l.Ob()),2&t){var i=e.$implicit;l.zb(1),l.hc("ticket",i)}}function A(t,e){if(1&t&&l.yc(0,P,2,1,"div",5),2&t){var i=l.ac();l.hc("ngForOf",i.ticketListMock)}}var w,T=((w=function(){function e(){t(this,e),this.ticketListMock=[],this.descriptionMock="accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet.",this.ticketListMock=[new b({id:1,name:"Content projection",description:this.descriptionMock,type:h.DEV}),new b({id:2,name:"Filtre ticket",description:this.descriptionMock,type:h.DEV}),new b({id:3,name:"Integration dashboard",description:this.descriptionMock,type:h.INTE}),new b({id:4,name:"Gestion utilisateur",description:this.descriptionMock,type:h.CONCEPTION}),new b({id:5,name:"Gestion utilisateur",description:this.descriptionMock,type:h.DESIGN}),new b({id:6,name:"Content projection",description:this.descriptionMock,type:h.DEV}),new b({id:7,name:"Filtre ticket",description:this.descriptionMock,type:h.DEV}),new b({id:8,name:"Integration dashboard",description:this.descriptionMock,type:h.INTE}),new b({id:9,name:"Gestion utilisateur",description:this.descriptionMock,type:h.CONCEPTION}),new b({id:10,name:"Gestion utilisateur",description:this.descriptionMock,type:h.DESIGN})]}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||w)},w.\u0275cmp=l.Eb({type:w,selectors:[["app-todo-list"]],decls:5,vars:2,consts:[[1,"container-todo-list"],[1,"row"],[4,"ngIf","ngIfElse"],["ticketsShow",""],[1,"alert","alert-info"],["class","col-lg-4 p-3",4,"ngFor","ngForOf"],[1,"col-lg-4","p-3"],[3,"ticket"]],template:function(t,e){if(1&t&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.yc(2,O,1,0,void 0,2),l.yc(3,A,1,1,"ng-template",null,3,l.zc),l.Ob(),l.Ob()),2&t){var i=l.oc(4);l.zb(2),l.hc("ngIf",0==e.ticketListMock.length)("ngIfElse",i)}},directives:[a.s,a.r,y],styles:[""]}),w),I=o("kmnG"),E=o("qFsG"),D=o("d3UM"),C=o("FKr1");function L(t,e){1&t&&(l.Pb(0,"mat-error"),l.Ac(1,"Champ obligatoire"),l.Ob())}function M(t,e){1&t&&(l.Pb(0,"mat-hint"),l.Ac(1,"required"),l.Ob())}function z(t,e){if(1&t&&(l.Pb(0,"mat-option",8),l.Ac(1),l.Ob()),2&t){var i=e.$implicit;l.hc("value",i.val),l.zb(1),l.Bc(i.text)}}function G(t,e){1&t&&(l.Pb(0,"mat-error"),l.Ac(1,"Champ obligatoire"),l.Ob())}function S(t,e){1&t&&(l.Pb(0,"mat-hint"),l.Ac(1,"required"),l.Ob())}function q(t,e){1&t&&(l.Pb(0,"mat-error"),l.Ac(1,"Champ obligatoire"),l.Ob())}function F(t,e){1&t&&(l.Pb(0,"mat-hint"),l.Ac(1,"required"),l.Ob())}var R,N,j,x,K,V,_,W,B,H,U,J=((j=function(){function e(){t(this,e),this.sendTicket=new l.n,this.formTicket=new s.f({name:new s.c("",s.u.required),type:new s.c("",s.u.required),description:new s.c("",s.u.required)}),this.typesAsSelect=this.enumToSelectList(h)}return i(e,[{key:"ngOnInit",value:function(){this.isFormSubmitted=!1}},{key:"canExit",value:function(){return!(!this.isFormSubmitted&&this.formTicket.dirty&&this.formTicket.touched)||window.confirm("Etes-vous sur?")}},{key:"onSubmit",value:function(){this.markFormAsTouched(this.formTicket),this.formTicket.valid&&(this.isFormSubmitted=!0,this.sendTicket.emit(new b(this.formTicket.value)))}},{key:"isRequired",value:function(t){return t.errors&&void 0!==t.errors.required}},{key:"enumToSelectList",value:function(t){return Object.keys(t).map(function(e){return{val:t[e],text:t[e]}})}},{key:"markFormAsTouched",value:function(t){var e=this;Object.values(t.controls).forEach(function(t){t.controls?t.controls.forEach(function(t){return e.markFormAsTouched(t)}):t.markAsTouched()})}},{key:"controls",get:function(){return this.formTicket.controls?this.formTicket.controls:null}}]),e}()).\u0275fac=function(t){return new(t||j)},j.\u0275cmp=l.Eb({type:j,selectors:[["app-todo-form"]],outputs:{sendTicket:"sendTicket"},decls:19,vars:8,consts:[[1,"container","container-todo-form"],["novalidate","",1,"form-container",3,"formGroup"],["matInput","","placeholder","Le nom de ticket","formControlName","name"],[4,"ngIf"],["placeholder","type de ticket","formControlName","type"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Description du ticket","formControlName","description"],["type","submit","mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Pb(0,"div",0),l.Pb(1,"h1"),l.Ac(2,"Remplir la form et essaie de quitter ! pour voir le fonctionement de canDeactivate"),l.Ob(),l.Pb(3,"form",1),l.Pb(4,"mat-form-field"),l.Lb(5,"input",2),l.yc(6,L,2,0,"mat-error",3),l.yc(7,M,2,0,"mat-hint",3),l.Ob(),l.Pb(8,"mat-form-field"),l.Pb(9,"mat-select",4),l.yc(10,z,2,2,"mat-option",5),l.Ob(),l.yc(11,G,2,0,"mat-error",3),l.yc(12,S,2,0,"mat-hint",3),l.Ob(),l.Pb(13,"mat-form-field"),l.Lb(14,"textarea",6),l.yc(15,q,2,0,"mat-error",3),l.yc(16,F,2,0,"mat-hint",3),l.Ob(),l.Pb(17,"button",7),l.Wb("click",function(){return e.onSubmit()}),l.Ac(18,"Envoyer"),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.zb(3),l.hc("formGroup",e.formTicket),l.zb(3),l.hc("ngIf",e.controls.name.hasError("required")),l.zb(1),l.hc("ngIf",e.isRequired(e.controls.name)),l.zb(3),l.hc("ngForOf",e.typesAsSelect),l.zb(1),l.hc("ngIf",e.controls.type.hasError("required")),l.zb(1),l.hc("ngIf",e.isRequired(e.controls.type)),l.zb(3),l.hc("ngIf",e.controls.description.hasError("required")),l.zb(1),l.hc("ngIf",e.isRequired(e.controls.description)))},directives:[s.v,s.n,s.g,I.c,E.a,s.b,s.m,s.e,a.s,D.a,a.r,v.a,I.b,I.f,C.j],styles:["div.container-todo-form[_ngcontent-%COMP%]{background:#fff;margin:10px 0}div.container-todo-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}div.container-todo-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}"]}),j),X=((N=function(){function e(i){t(this,e),this.activatedRoute=i}return i(e,[{key:"ngOnInit",value:function(){this.ticket=this.activatedRoute.snapshot.data.detailsTodo,console.log("this.ticket",this.ticket)}}]),e}()).\u0275fac=function(t){return new(t||N)(l.Kb(m.a))},N.\u0275cmp=l.Eb({type:N,selectors:[["app-details-todo"]],decls:13,vars:3,consts:[[1,"conatiner"]],template:function(t,e){1&t&&(l.Pb(0,"div",0),l.Pb(1,"p"),l.Pb(2,"strong"),l.Ac(3,"Id"),l.Ob(),l.Ac(4),l.Ob(),l.Pb(5,"p"),l.Pb(6,"strong"),l.Ac(7,"Name"),l.Ob(),l.Ac(8),l.Ob(),l.Pb(9,"p"),l.Pb(10,"strong"),l.Ac(11,"Description"),l.Ob(),l.Ac(12),l.Ob(),l.Ob()),2&t&&(l.zb(4),l.Cc(" ",e.ticket.id,""),l.zb(4),l.Cc(" ",e.ticket.name,""),l.zb(4),l.Cc(" ",e.ticket.description,""))},styles:[""]}),N),$=((R=function(){function e(){t(this,e)}return i(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(t){return new(t||R)},R.\u0275cmp=l.Eb({type:R,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(l.Pb(0,"p"),l.Ac(1,"not-found works!"),l.Ob())},styles:[""]}),R),Z=o("LRne"),Q=((K=function(){function e(){t(this,e)}return i(e,[{key:"getDetailsTodoMock",value:function(t){return Object(Z.a)(new b({id:t,name:"Filtre ticket",description:"accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet",type:h.DEV}))}}]),e}()).\u0275fac=function(t){return new(t||K)},K.\u0275prov=l.Gb({token:K,factory:K.\u0275fac}),K),Y=((x=function(){function e(i){t(this,e),this.todoRest=i}return i(e,[{key:"resolve",value:function(t,e){var i=+t.paramMap.get("id");return this.todoRest.getDetailsTodoMock(i)}}]),e}()).\u0275fac=function(t){return new(t||x)(l.Tb(Q))},x.\u0275prov=l.Gb({token:x,factory:x.\u0275fac}),x),tt=function e(i){t(this,e),null!=i&&(i.hasOwnProperty("id")&&(this.id=i.id),i.hasOwnProperty("username")&&(this.username=i.username),i.hasOwnProperty("email")&&(this.email=i.email),i.hasOwnProperty("isAdmin")&&(this.isAdmin=i.isAdmin))},et=((B=function(){function e(){t(this,e),this.user=new tt({id:9999,username:"issam raouf",email:"iraouf.soft@gmail.com",isAdmin:!1})}return i(e,[{key:"isAdmin",get:function(){return this.user.isAdmin}},{key:"isAuth",get:function(){return this.user instanceof tt}}]),e}()).\u0275fac=function(t){return new(t||B)},B.\u0275prov=l.Gb({token:B,factory:B.\u0275fac}),B),it=((W=function(){function e(i,n){t(this,e),this.userRightsService=i,this.router=n}return i(e,[{key:"canActivate",value:function(t,e){return!!this.userRightsService.isAdmin||(this.router.navigate(["routing"]),alert("Impossible d'acc\xe9der \xe0 cette page , FROM GUARD OnlyAdminGuard"),!1)}}]),e}()).\u0275fac=function(t){return new(t||W)(l.Tb(et),l.Tb(m.c))},W.\u0275prov=l.Gb({token:W,factory:W.\u0275fac}),W),nt=((_=function(){function e(i,n){t(this,e),this.userRightsService=i,this.router=n}return i(e,[{key:"canActivateChild",value:function(t,e){return!!this.userRightsService.isAuth||(this.router.navigate(["content-projection"]),alert("Impossible d'acc\xe9der \xe0 cette page, FORM GUARD DashboardGuard"),!1)}}]),e}()).\u0275fac=function(t){return new(t||_)(l.Tb(et),l.Tb(m.c))},_.\u0275prov=l.Gb({token:_,factory:_.\u0275fac}),_),ot=((V=function(){function e(){t(this,e)}return i(e,[{key:"canDeactivate",value:function(t,e){return t.canExit()}}]),e}()).\u0275fac=function(t){return new(t||V)},V.\u0275prov=l.Gb({token:V,factory:V.\u0275fac}),V),rt=[{path:"",component:p,canActivateChild:[nt],children:[{path:"",redirectTo:"todo-list",pathMatch:"full"},{path:"todo-list",component:T},{path:"todo-form",component:J,canDeactivate:[ot]},{path:"todo-details/:id",component:X,resolve:{detailsTodo:Y},canActivate:[it]},{path:"**",component:$}]}],ct=((U=function e(){t(this,e)}).\u0275mod=l.Ib({type:U}),U.\u0275inj=l.Hb({factory:function(t){return new(t||U)},imports:[[m.f.forChild(rt)],m.f]}),U),at=((H=function e(){t(this,e)}).\u0275mod=l.Ib({type:H}),H.\u0275inj=l.Hb({factory:function(t){return new(t||H)},providers:[Q,Y,et,it,nt,ot],imports:[[a.c,s.i,s.s,u.a,d.b,ct]]}),H)}}])}();