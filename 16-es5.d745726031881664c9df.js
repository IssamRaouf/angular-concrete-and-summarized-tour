!function(){function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,i){if(!t)return;if("string"==typeof t)return e(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e(t,i)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"E/Qa":function(e,i,o){"use strict";o.r(i),o.d(i,"HttpExampleModule",function(){return H});var c,s=o("ofXK"),a=o("3Pt+"),u=o("smnK"),d=o("tyNb"),l=o("fXoL"),f=o("tk/3"),b=function t(e){r(this,t),null!=e&&(e.hasOwnProperty("userId")&&(this.userId=e.userId),e.hasOwnProperty("id")&&(this.id=e.id),e.hasOwnProperty("title")&&(this.title=e.title),e.hasOwnProperty("completed")&&(this.completed=e.completed))},h=o("lJxs"),p=function t(e){r(this,t),null!=e&&(e.hasOwnProperty("name")&&(this.name=e.name),e.hasOwnProperty("catchPhrase")&&(this.catchPhrase=e.catchPhrase),e.hasOwnProperty("bs")&&(this.bs=e.bs))},k=function t(e){r(this,t),null!=e&&(e.hasOwnProperty("id")&&(this.id=e.id),e.hasOwnProperty("name")&&(this.name=e.name),e.hasOwnProperty("username")&&(this.username=e.username),e.hasOwnProperty("email")&&(this.email=e.email),e.hasOwnProperty("company")&&(this.company=new p(e.company)))},m=((c=function(){function t(e){r(this,t),this.httpClient=e,this.webServiceUrl="https://jsonplaceholder.typicode.com"}return n(t,[{key:"getListTodo",value:function(){return this.httpClient.get(this.webServiceUrl+"/todos",{headers:this.headers,responseType:"json",observe:"response"}).pipe(Object(h.a)(function(t){return t.body.map(function(t){return new b(t)})}))}},{key:"getListUsers",value:function(){return this.httpClient.get(this.webServiceUrl+"/users",{headers:this.headers,responseType:"json",observe:"response"}).pipe(Object(h.a)(function(t){return t.body.map(function(t){return new k(t)})}))}},{key:"addTodo",value:function(t){return this.httpClient.post(this.webServiceUrl+"/todos",JSON.stringify(t),{headers:this.headers,responseType:"json",observe:"response"}).pipe(Object(h.a)(function(t){return new b(t.body)}))}},{key:"deleteTodo",value:function(t){return this.httpClient.delete(this.webServiceUrl+"/todos/"+t.id,{headers:this.headers,responseType:"json",observe:"body"})}},{key:"putTodo",value:function(t){return this.httpClient.put(this.webServiceUrl+"/todos/"+t.id,JSON.stringify(t),{headers:this.headers,responseType:"json",observe:"response"}).pipe(Object(h.a)(function(t){return new b(t.body)}))}},{key:"headers",get:function(){var t=new f.c;return t.append("Content-type","application/json; charset=UTF-8"),t}}]),t}()).\u0275fac=function(t){return new(t||c)(l.Tb(f.a))},c.\u0275prov=l.Gb({token:c,factory:c.\u0275fac}),c),y=o("kmnG"),v=o("d3UM"),T=o("qFsG"),O=o("bSwM"),g=o("bTqV"),P=o("FKr1");function w(t,e){if(1&t&&(l.Pb(0,"mat-option",8),l.Ac(1),l.Ob()),2&t){var i=e.$implicit;l.hc("value",i.id),l.zb(1),l.Bc(i.username)}}function L(t,e){1&t&&(l.Pb(0,"mat-error"),l.Ac(1,"Champ obligatoire"),l.Ob())}function S(t,e){1&t&&(l.Pb(0,"mat-hint"),l.Ac(1,"required"),l.Ob())}function I(t,e){1&t&&(l.Pb(0,"mat-error"),l.Ac(1,"Champ obligatoire"),l.Ob())}function A(t,e){1&t&&(l.Pb(0,"mat-hint"),l.Ac(1,"required"),l.Ob())}var C,E,M=((C=function(){function t(e){r(this,t),this.todoRestServ=e,this.usersList=[],this.sendTicket=new l.n,this.sendEditedTicket=new l.n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"ngOnChanges",value:function(){this.editTicket?this.isAdd=!1:(this.isAdd=!0,this.editTicket=new b({id:null,title:null,userId:null,completed:!1})),this.createAndInitForm()}},{key:"createAndInitForm",value:function(){this.formTicket=new a.f({userId:new a.c(this.editTicket.userId,a.u.required),title:new a.c(this.editTicket.title,a.u.required),completed:new a.c(this.editTicket.completed),id:new a.c(this.editTicket.id)})}},{key:"onSubmit",value:function(){if(this.markFormAsTouched(this.formTicket),this.formTicket.valid){var t=new b(this.formTicket.value);this.isAdd?this.addTodo(t):this.editTodo(t)}}},{key:"onClean",value:function(){this.isAdd=!0,this.editTicket=Object.assign(new b({id:null,title:null,userId:null,completed:!1})),this.createAndInitForm()}},{key:"isRequired",value:function(t){return t.errors&&void 0!==t.errors.required}},{key:"markFormAsTouched",value:function(t){var e=this;Object.values(t.controls).forEach(function(t){t.controls?t.controls.forEach(function(t){return e.markFormAsTouched(t)}):t.markAsTouched()})}},{key:"addTodo",value:function(t){var e=this;this.todoRestServ.addTodo(t).subscribe(function(i){i&&(t.id=i.id,e.sendTicket.emit(t))})}},{key:"editTodo",value:function(t){var e=this;this.todoRestServ.putTodo(t).subscribe(function(i){i&&(t.id=i.id,e.sendEditedTicket.emit(t))})}},{key:"enumToSelectList",value:function(t){return Object.keys(t).map(function(e){return{val:t[e],text:t[e]}})}},{key:"titleOperation",get:function(){return this.isAdd?"Ajouter ticket":"Modifier Ticket"}},{key:"controls",get:function(){return this.formTicket.controls?this.formTicket.controls:null}}]),t}()).\u0275fac=function(t){return new(t||C)(l.Kb(m))},C.\u0275cmp=l.Eb({type:C,selectors:[["app-todo-form"]],inputs:{usersList:"usersList",editTicket:"editTicket"},outputs:{sendTicket:"sendTicket",sendEditedTicket:"sendEditedTicket"},features:[l.xb],decls:19,vars:9,consts:[[1,"container","container-todo-form"],["novalidate","",1,"form-container",3,"formGroup"],["placeholder","User","formControlName","userId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["matInput","","placeholder","Le nom de ticket","formControlName","title"],["formControlName","completed",3,"indeterminate","labelPosition"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(l.Pb(0,"div",0),l.Pb(1,"h2"),l.Ac(2),l.Ob(),l.Pb(3,"form",1),l.Pb(4,"mat-form-field"),l.Pb(5,"mat-select",2),l.yc(6,w,2,2,"mat-option",3),l.Ob(),l.yc(7,L,2,0,"mat-error",4),l.yc(8,S,2,0,"mat-hint",4),l.Ob(),l.Pb(9,"mat-form-field"),l.Lb(10,"input",5),l.yc(11,I,2,0,"mat-error",4),l.yc(12,A,2,0,"mat-hint",4),l.Ob(),l.Pb(13,"mat-checkbox",6),l.Ac(14," Termin\xe9 "),l.Ob(),l.Pb(15,"button",7),l.Wb("click",function(){return e.onClean()}),l.Ac(16,"Clean"),l.Ob(),l.Pb(17,"button",7),l.Wb("click",function(){return e.onSubmit()}),l.Ac(18,"Envoyer"),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.zb(2),l.Bc(e.titleOperation),l.zb(1),l.hc("formGroup",e.formTicket),l.zb(3),l.hc("ngForOf",e.usersList),l.zb(1),l.hc("ngIf",e.controls.userId.hasError("required")),l.zb(1),l.hc("ngIf",e.isRequired(e.controls.userId)),l.zb(3),l.hc("ngIf",e.controls.title.hasError("required")),l.zb(1),l.hc("ngIf",e.isRequired(e.controls.title)),l.zb(1),l.hc("indeterminate","true")("labelPosition","after"))},directives:[a.v,a.n,a.g,y.c,v.a,a.m,a.e,s.r,s.s,T.a,a.b,O.a,g.a,P.j,y.b,y.f],styles:["div.container-todo-form[_ngcontent-%COMP%]{background:#fff;margin:10px 0}div.container-todo-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:10px}div.container-todo-form[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%;margin-bottom:5px}"]}),C),j=o("Wp6s"),z=((E=function(){function t(){r(this,t),this.deleteTicketSend=new l.n,this.editTicketSend=new l.n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"deleteTicket",value:function(t){this.deleteTicketSend.emit(t)}},{key:"editTicket",value:function(t){this.editTicketSend.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||E)},E.\u0275cmp=l.Eb({type:E,selectors:[["app-ticket"]],inputs:{ticket:"ticket",user:"user"},outputs:{deleteTicketSend:"deleteTicketSend",editTicketSend:"editTicketSend"},decls:17,vars:6,consts:[["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,e){1&t&&(l.Pb(0,"mat-card"),l.Pb(1,"mat-card-header"),l.Pb(2,"mat-card-title"),l.Ac(3),l.bc(4,"titlecase"),l.Ob(),l.Pb(5,"mat-card-subtitle"),l.Ac(6),l.Ob(),l.Ob(),l.Pb(7,"mat-card-content"),l.Pb(8,"p"),l.Ac(9),l.Ob(),l.Pb(10,"p"),l.Ac(11),l.Ob(),l.Ob(),l.Pb(12,"mat-card-actions"),l.Pb(13,"button",0),l.Wb("click",function(){return e.editTicket(e.ticket)}),l.Ac(14,"Edit"),l.Ob(),l.Pb(15,"button",1),l.Wb("click",function(){return e.deleteTicket(e.ticket)}),l.Ac(16,"Delete"),l.Ob(),l.Ob(),l.Ob()),2&t&&(l.zb(3),l.Bc(l.cc(4,4,e.ticket.title)),l.zb(3),l.Cc("Ticket id : ",e.ticket.id,""),l.zb(3),l.Cc("User : ",e.user.username,""),l.zb(2),l.Cc("Compnay : ",e.user.company.name,""))},directives:[j.a,j.d,j.g,j.f,j.c,j.b,g.a],pipes:[s.A],styles:[".mat-card[_ngcontent-%COMP%]{height:260px}"]}),E);function U(t,e){1&t&&(l.Pb(0,"div",4),l.Ac(1," aucune Ticket n'existe, pouvez-vous l'ajouter !"),l.Ob())}function x(t,e){1&t&&l.yc(0,U,2,0,"ng-template")}function F(t,e){if(1&t){var i=l.Qb();l.Pb(0,"div",7),l.Pb(1,"app-ticket",8),l.Wb("deleteTicketSend",function(t){return l.pc(i),l.ac(2).onDeleteTicket(t)})("editTicketSend",function(t){return l.pc(i),l.ac(2).onEditTicket(t)}),l.Ob(),l.Ob()}if(2&t){var n=e.$implicit,r=l.ac(2);l.zb(1),l.hc("ticket",n)("user",r.getUserById(n.userId))}}function q(t,e){if(1&t&&(l.Pb(0,"p",5),l.Ac(1),l.Ob(),l.yc(2,F,2,2,"div",6)),2&t){var i=l.ac();l.zb(1),l.Cc("Nombre des tickets est : ",i.ticketList.length,""),l.zb(1),l.hc("ngForOf",i.ticketList)}}var R,_=((R=function(){function t(e){r(this,t),this.todoRestServ=e,this.usersList=[],this.editTicketSend=new l.n}return n(t,[{key:"ngOnInit",value:function(){}},{key:"getUserById",value:function(t){return this.usersList.find(function(e){return e.id===t})}},{key:"onDeleteTicket",value:function(t){var e=this;this.todoRestServ.deleteTodo(t).subscribe(function(i){var n=e.ticketList.findIndex(function(e){return e.id===t.id});e.ticketList.splice(n,1)})}},{key:"onEditTicket",value:function(t){this.editTicketSend.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||R)(l.Kb(m))},R.\u0275cmp=l.Eb({type:R,selectors:[["app-todo-list"]],inputs:{ticketList:"ticketList",usersList:"usersList"},outputs:{editTicketSend:"editTicketSend"},decls:5,vars:2,consts:[[1,"container-todo-list"],[1,"row"],[4,"ngIf","ngIfElse"],["ticketsShow",""],[1,"alert","alert-info"],[1,"col-lg-12"],["class","col-lg-3",4,"ngFor","ngForOf"],[1,"col-lg-3"],[3,"ticket","user","deleteTicketSend","editTicketSend"]],template:function(t,e){if(1&t&&(l.Pb(0,"div",0),l.Pb(1,"div",1),l.yc(2,x,1,0,void 0,2),l.yc(3,q,3,2,"ng-template",null,3,l.zc),l.Ob(),l.Ob()),2&t){var i=l.oc(4);l.zb(2),l.hc("ngIf",0==e.ticketList.length)("ngIfElse",i)}},directives:[s.s,s.r,z],styles:[".container-todo-list[_ngcontent-%COMP%]   app-ticket[_ngcontent-%COMP%]{margin:5px}"]}),R);function W(t,e){1&t&&(l.Pb(0,"div",3),l.Pb(1,"h1"),l.Ac(2," veuillez patienter, la liste est en cours de chargement.."),l.Ob(),l.Ob())}function N(t,e){if(1&t){var i=l.Qb();l.Pb(0,"app-todo-form",4),l.Wb("sendTicket",function(t){return l.pc(i),l.ac().addTicket(t)})("sendEditedTicket",function(t){return l.pc(i),l.ac().onEdit(t)}),l.Ob(),l.Pb(1,"app-todo-list",5),l.Wb("editTicketSend",function(t){return l.pc(i),l.ac().editTicket(t)}),l.Ob()}if(2&t){var n=l.ac();l.hc("usersList",n.usersListMock)("editTicket",n.ticketToEdit),l.zb(1),l.hc("usersList",n.usersListMock)("ticketList",n.ticketListMock)}}var K,B,G,J=[{path:"",component:(K=function(){function e(t){r(this,e),this.todoRestServ=t,this.ticketListMock=[],this.usersListMock=[]}return n(e,[{key:"ngOnInit",value:function(){this.loadUsersList(),this.loadTicketsList()}},{key:"loadTicketsList",value:function(){var t=this;this.isLoading=!0,this.todoRestServ.getListTodo().subscribe(function(e){t.ticketListMock=e,setTimeout(function(){return t.isLoading=!1},800)})}},{key:"loadUsersList",value:function(){var t=this;this.isLoading=!0,this.todoRestServ.getListUsers().subscribe(function(e){t.usersListMock=e,setTimeout(function(){return t.isLoading=!1},800)})}},{key:"addTicket",value:function(e){this.ticketListMock=[e].concat(t(this.ticketListMock))}},{key:"editTicket",value:function(t){this.ticketToEdit=t}},{key:"onEdit",value:function(t){var e=this.ticketListMock.findIndex(function(e){return e.id===t.id});this.ticketListMock[e]=t}}]),e}(),K.\u0275fac=function(t){return new(t||K)(l.Kb(m))},K.\u0275cmp=l.Eb({type:K,selectors:[["app-todo"]],decls:4,vars:2,consts:[[1,"container","container-todo"],["class","row py-5 my-5",4,"ngIf","ngIfElse"],["list",""],[1,"row","py-5","my-5"],[3,"usersList","editTicket","sendTicket","sendEditedTicket"],[3,"usersList","ticketList","editTicketSend"]],template:function(t,e){if(1&t&&(l.Pb(0,"div",0),l.yc(1,W,3,0,"div",1),l.yc(2,N,2,4,"ng-template",null,2,l.zc),l.Ob()),2&t){var i=l.oc(3);l.zb(1),l.hc("ngIf",e.isLoading)("ngIfElse",i)}},directives:[s.s,M,_],styles:[""]}),K)}],D=((G=function t(){r(this,t)}).\u0275mod=l.Ib({type:G}),G.\u0275inj=l.Hb({factory:function(t){return new(t||G)},imports:[[d.f.forChild(J)],d.f]}),G),H=((B=function t(){r(this,t)}).\u0275mod=l.Ib({type:B}),B.\u0275inj=l.Hb({factory:function(t){return new(t||B)},providers:[m],imports:[[s.c,u.a,a.i,f.b,a.s,D]]}),B)}}])}();